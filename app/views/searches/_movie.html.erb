<% if !@movie_data.empty?%>
  <div id='myCarousel' class="carousel slide" data-ride="carousel">
    <!-- <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to='0'></li>
      <li data-target="#myCarousel" data-slide-to='1'></li>
      <li data-target="#myCarousel" data-slide-to='2'></li>
    </ol> -->
    <div class="carousel-inner" role="listbox">
      <% @movie_data.each_with_index do |movie, i| %>
        <% if i == 0 %>
          <div class="item active">
        <% else %>
          <div class="item">
        <% end %>
            <%= link_to movies_path(movie_id: movie['id']), method: 'post', remote: true do %>
              <div data-movie-title='<%= movie['title'] %>' class="movie-card">
                <% if movie['poster_path'] %>
                  <% @movie_post_url = "http://image.tmdb.org/t/p/w185#{movie['poster_path']}" %>
                <% else %>
                  <% @movie_post_url = "https://s1.yimg.com/os/mit/media/m/entity/images/movie_placeholder-e0ca244.png" %>
                <% end %>
                <div class="movie_poster"><%= image_tag @movie_post_url %></div>
                <div class="movie_title"><%= movie['title'] %></div>
                <div class="movie_date"><%= movie['release_date'][0..3] %></div>
              </div>
            <% end %>
        </div>
      <% end %>
    </div>
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden='true'></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
<% else %>
  <h1>THAT'S NOT A MOVIE!</h1>
<% end %>